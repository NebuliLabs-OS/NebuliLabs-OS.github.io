<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>VidFast TV/Movie Search</title>
<style>
:root {
  --bg-dark: #12091a;
  --bg-panel: rgba(30,20,45,0.85);
  --accent: #FFD700;
  --accent-glow: 0 0 12px #FFD700, 0 0 24px #FFD70077;
  --text-main: #fffbe9;
  --text-dim: #cfc2a8;
  --danger: #ff355e;
}
body {
  margin: 0;
  font-family: "Segoe UI", sans-serif;
  background: var(--bg-dark);
  color: var(--text-main);
}
header {
  padding: 15px;
  background: var(--bg-panel);
  backdrop-filter: blur(12px);
  display: flex;
  justify-content: center;
  box-shadow: 0 2px 10px #000;
}
#searchBox {
  width: 60%;
  padding: 12px 15px;
  border: none;
  border-radius: 12px;
  font-size: 16px;
  background: #1f1530;
  color: var(--text-main);
  outline: none;
  box-shadow: inset 0 0 8px #000, var(--accent-glow);
  transition: 0.2s;
}
#searchBox:focus {
  background: #2a1e3d;
  box-shadow: inset 0 0 10px #000, 0 0 15px var(--accent);
}
#results {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  padding: 25px;
  gap: 20px;
}
.result {
  width: 160px;
  cursor: pointer;
  text-align: center;
  background: var(--bg-panel);
  border-radius: 15px;
  padding: 12px;
  transition: 0.25s;
  box-shadow: 0 0 10px #000;
}
.result:hover {
  transform: translateY(-5px);
  box-shadow: 0 0 15px var(--accent);
}
.result img {
  width: 100%;
  border-radius: 12px;
  box-shadow: 0 0 10px #000;
}
.result p {
  margin-top: 8px;
  font-size: 14px;
  color: var(--text-dim);
}
#player {
  margin-top: 20px;
  padding: 0 20px;
}
iframe {
  width: 100%;
  height: 70vh;
  border: none;
  border-radius: 12px;
  box-shadow: 0 0 15px #000, 0 0 20px #000 inset;
}
#placeholder {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 48px;
  color: var(--accent);
  font-weight: bold;
  text-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent);
  pointer-events: none;
}
#seasonPopup {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0,0,0,0.85);
  display: none;
  justify-content: center;
  align-items: center;
  backdrop-filter: blur(10px);
}
#popupContent {
  background: var(--bg-panel);
  padding: 20px;
  border-radius: 15px;
  width: 80%;
  max-width: 600px;
  max-height: 80vh;
  display: flex;
  flex-direction: column;
  box-shadow: 0 0 25px var(--accent);
  animation: fadeIn 0.3s ease;
}
#seasonControls {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
  color: var(--accent);
  text-shadow: var(--accent-glow);
}
#seasonControls button {
  background: transparent;
  border: 2px solid var(--accent);
  border-radius: 50%;
  padding: 6px 12px;
  color: var(--accent);
  font-size: 18px;
  cursor: pointer;
  transition: 0.25s;
}
#seasonControls button:hover {
  background: var(--accent);
  color: #000;
  box-shadow: var(--accent-glow);
}
#episodeList {
  flex: 1;
  overflow-y: auto;
  background: #1b1030;
  border-radius: 12px;
  padding: 10px;
  box-shadow: inset 0 0 10px #000;
}
.episode {
  padding: 10px;
  margin: 6px 0;
  background: #2c1d45;
  border-radius: 8px;
  cursor: pointer;
  transition: 0.2s;
}
.episode:hover {
  background: #3a2760;
  box-shadow: 0 0 10px var(--accent);
}
#closePopup {
  margin-top: 12px;
  background: var(--danger);
  border: none;
  padding: 10px 18px;
  border-radius: 8px;
  cursor: pointer;
  color: white;
  font-weight: bold;
  transition: 0.25s;
}
#closePopup:hover {
  background: #ff577a;
  box-shadow: 0 0 12px var(--danger);
}
@keyframes fadeIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}
</style>
</head>
<body>
<header>
  <input type="text" id="searchBox" placeholder="Search for movies or TV shows...">
</header>
<main>
  <div id="results"></div>
  <div id="player"></div>
  <div id="placeholder">NebuFlix</div>
</main>

<div id="seasonPopup">
  <div id="popupContent">
    <div id="seasonControls">
      <button id="prevSeason">&lt;</button>
      <h2 id="seasonTitle">Season 1</h2>
      <button id="nextSeason">&gt;</button>
    </div>
    <div id="episodeList"></div>
    <button id="closePopup">Close</button>
  </div>
</div>

<script>
const apiKey = "832be0e3"; // It's a free key. There is absolutly no need to steal from me ðŸ’€ just go to http://www.omdbapi.com
const searchBox = document.getElementById("searchBox");
const results = document.getElementById("results");
const player = document.getElementById("player");
const placeholder = document.getElementById("placeholder");

const seasonPopup = document.getElementById("seasonPopup");
const seasonTitle = document.getElementById("seasonTitle");
const episodeList = document.getElementById("episodeList");
const prevSeason = document.getElementById("prevSeason");
const nextSeason = document.getElementById("nextSeason");
const closePopup = document.getElementById("closePopup");

let currentShowId = null;
let currentSeason = 1;

function updatePlaceholder() {
  if (!results.hasChildNodes() && !player.hasChildNodes()) {
    placeholder.style.display = "block";
  } else {
    placeholder.style.display = "none";
  }
}

searchBox.addEventListener("keypress", (e) => {
  if (e.key === "Enter") searchMovies();
});

async function searchMovies() {
  results.innerHTML = "Searching...";
  player.innerHTML = "";
  updatePlaceholder();
  const query = searchBox.value;
  const url = `http://www.omdbapi.com/?apikey=${apiKey}&s=${encodeURIComponent(query)}`;
  const res = await fetch(url);
  const data = await res.json();
  results.innerHTML = "";
  if (data.Search) {
    data.Search.forEach(item => {
      const div = document.createElement("div");
      div.className = "result";
      div.innerHTML = `
        <img src="${item.Poster !== "N/A" ? item.Poster : ""}" alt="">
        <p>${item.Title} (${item.Year})</p>
      `;
      div.onclick = () => {
        if (item.Type === "movie") {
          loadMovie(item.imdbID);
        } else {
          openShow(item.imdbID);
        }
        results.innerHTML = "";
        updatePlaceholder();
      };
      results.appendChild(div);
    });
  } else {
    results.innerHTML = "No results found.";
  }
  updatePlaceholder();
}

function loadMovie(id) {
  player.innerHTML = `
    <iframe src="https://vidfast.pro/movie/${id}?autoPlay=true" allowfullscreen allow="encrypted-media"></iframe>
  `;
  updatePlaceholder();
}

async function openShow(id) {
  currentShowId = id;
  currentSeason = 1;
  await loadSeason(currentSeason);
  seasonPopup.style.display = "flex";
  updatePlaceholder();
}

async function loadSeason(season) {
  seasonTitle.textContent = `Season ${season}`;
  episodeList.innerHTML = "Loading episodes...";
  const url = `http://www.omdbapi.com/?apikey=${apiKey}&i=${currentShowId}&Season=${season}`;
  const res = await fetch(url);
  const data = await res.json();
  if (data.Episodes) {
    episodeList.innerHTML = "";
    data.Episodes.forEach(ep => {
      const div = document.createElement("div");
      div.className = "episode";
      div.textContent = `${ep.Episode}. ${ep.Title}`;
      div.onclick = () => {
        seasonPopup.style.display = "none";
        results.innerHTML = "";
        player.innerHTML = `
          <iframe src="https://vidfast.pro/tv/${currentShowId}/${season}/${ep.Episode}?autoPlay=true" allowfullscreen allow="encrypted-media"></iframe>
        `;
        updatePlaceholder();
      };
      episodeList.appendChild(div);
    });
  } else {
    episodeList.innerHTML = "No episodes found.";
  }
}

prevSeason.onclick = () => {
  if (currentSeason > 1) {
    currentSeason--;
    loadSeason(currentSeason);
  }
};
nextSeason.onclick = () => {
  currentSeason++;
  loadSeason(currentSeason);
};
closePopup.onclick = () => {
  seasonPopup.style.display = "none";
};
updatePlaceholder();
</script>
</body>
</html>
